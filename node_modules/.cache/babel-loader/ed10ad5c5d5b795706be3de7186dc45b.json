{"ast":null,"code":"var _jsxFileName = \"F:\\\\coding\\\\python\\\\Django_Project\\\\chat_service\\\\chatfrontend\\\\src\\\\Pages\\\\home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from \"react\";\nimport settings from \"../assets/settings.png\";\nimport logoutPng from \"../assets/logout.png\";\nimport { UserAvatar, ProfileModal } from \"./homeComponents\";\nimport { store } from \"../stateManagement/store\";\nimport Loader from \"../components/loader\";\nimport { logout } from \"./authController\";\nimport UsersList from \"./usersList\";\nimport ChatInterface from \"./chatInterface\";\nimport menu from \"../assets/menu.svg\";\nimport close from \"../assets/close.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = props => {\n  _s();\n\n  const [showProfile, setShowProfile] = useState(false);\n  const [profileClosable, setProfileClosable] = useState(true);\n  const [userdetail, setUserDetail] = useState(null);\n  const [activeUser, setActiveUser] = useState(null);\n  const [showProfileModal, setShowProfileModal] = useState(false);\n  const {\n    state: {\n      userDetail,\n      activeChatUser\n    }\n  } = useContext(store);\n  useEffect(() => {\n    if (userDetail !== userdetail) {\n      setUserDetail(userDetail);\n\n      if (!userDetail.first_name) {\n        setShowProfile(true);\n        setProfileClosable(false);\n      }\n    }\n\n    if (activeUser !== activeChatUser) {\n      setActiveUser(activeChatUser);\n      closeSideBar();\n    }\n\n    console.log(activeChatUser);\n  }, [userDetail, activeChatUser]);\n\n  if (!userdetail) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"centerAll\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this);\n  }\n\n  const toggleSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\");\n\n    if (sideBar.classList.contains(\"close\")) {\n      sideBar.classList.remove(\"close\");\n    } else {\n      sideBar.classList.add(\"close\");\n    }\n  };\n\n  const closeSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\");\n\n    if (!sideBar.classList.contains(\"close\")) {\n      sideBar.classList.add(\"close\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProfileModal, { ...props,\n      close: () => setShowProfile(false),\n      userDetail: userdetail,\n      visible: showProfile,\n      closable: profileClosable,\n      setClosable: () => setProfileClosable(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), activeUser && /*#__PURE__*/_jsxDEV(ProfileModal, { ...props,\n      close: () => setShowProfileModal(false),\n      userDetail: activeChatUser,\n      visible: showProfileModal,\n      closable: true,\n      setClosable: () => null,\n      view: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side close\",\n        id: \"sideBar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex align-center justify-between top\",\n          children: [/*#__PURE__*/_jsxDEV(UserAvatar, {\n            noStatus: true,\n            isV2: true,\n            name: `${userdetail.first_name || \"\"} ${userdetail.last_name || \"\"}`,\n            profilePicture: userdetail.profile_picture ? userdetail.profile_picture.file_upload : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: settings,\n              onClick: () => {\n                setShowProfile(true);\n                closeSideBar();\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mobile\",\n              children: [\"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"img\", {\n                src: close,\n                alt: \"\",\n                onClick: toggleSideBar,\n                style: {\n                  width: 15\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 20\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UsersList, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logout\",\n          onClick: () => logout(props),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logoutPng\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile overlay\",\n        onClick: toggleSideBar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: activeUser ? /*#__PURE__*/_jsxDEV(ChatInterface, {\n          activeUser: activeUser,\n          loggedUser: userdetail,\n          toggleSideBar: toggleSideBar,\n          showProfileModal: showProfileModal,\n          setShowProfileModal: setShowProfileModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"heading mobile\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"100%\"\n              },\n              className: \"flex align-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: menu,\n                alt: \"\",\n                onClick: toggleSideBar\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 21\n              }, this), \"\\xA0\\xA0\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"noUser\",\n            children: \"Click on a user to start chatting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Home, \"wF5JGVPhh5whzZwSJrsnXwH7Qfc=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useContext","useEffect","settings","logoutPng","UserAvatar","ProfileModal","store","Loader","logout","UsersList","ChatInterface","menu","close","Home","props","showProfile","setShowProfile","profileClosable","setProfileClosable","userdetail","setUserDetail","activeUser","setActiveUser","showProfileModal","setShowProfileModal","state","userDetail","activeChatUser","first_name","closeSideBar","console","log","toggleSideBar","sideBar","document","getElementById","classList","contains","remove","add","last_name","profile_picture","file_upload","width","height"],"sources":["F:/coding/python/Django_Project/chat_service/chatfrontend/src/Pages/home.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\n\nimport settings from \"../assets/settings.png\";\n\nimport logoutPng from \"../assets/logout.png\";\nimport { UserAvatar, ProfileModal } from \"./homeComponents\";\nimport { store } from \"../stateManagement/store\";\nimport Loader from \"../components/loader\";\nimport { logout } from \"./authController\";\nimport UsersList from \"./usersList\";\nimport ChatInterface from \"./chatInterface\";\nimport menu from \"../assets/menu.svg\";\nimport close from \"../assets/close.svg\";\n\nconst Home = (props) => {\n  const [showProfile, setShowProfile] = useState(false);\n  const [profileClosable, setProfileClosable] = useState(true);\n  const [userdetail, setUserDetail] = useState(null);\n  const [activeUser, setActiveUser] = useState(null);\n  const [showProfileModal, setShowProfileModal] = useState(false)\n\n  const {\n    state: { userDetail, activeChatUser },\n  } = useContext(store);\n\n  useEffect(() => {\n    if (userDetail !== userdetail) {\n      setUserDetail(userDetail);\n      if (!userDetail.first_name) {\n        setShowProfile(true);\n        setProfileClosable(false);\n      }\n    }\n\n    if (activeUser !== activeChatUser) {\n      setActiveUser(activeChatUser);\n      closeSideBar();\n    }\n    console.log(activeChatUser)\n  }, [userDetail, activeChatUser]);\n\n  if (!userdetail) {\n    return (\n      <div className=\"centerAll\">\n        <Loader />\n      </div>\n    );\n  }\n\n  const toggleSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\")\n    if(sideBar.classList.contains(\"close\")){\n      sideBar.classList.remove(\"close\")\n    }\n    else{\n      sideBar.classList.add(\"close\")\n    }\n  }\n\n  const closeSideBar = () => {\n    const sideBar = document.getElementById(\"sideBar\")\n    if(!sideBar.classList.contains(\"close\")){\n      sideBar.classList.add(\"close\")\n    }\n  }\n\n\n\n  return (\n    <>\n      <ProfileModal\n        {...props}\n        close={() => setShowProfile(false)}\n        userDetail={userdetail}\n        visible={showProfile}\n        closable={profileClosable}\n        setClosable={() => setProfileClosable(true)}\n      />\n\n      {\n        activeUser && <ProfileModal\n            {...props}\n            close={() => setShowProfileModal(false)}\n            userDetail={activeChatUser}\n            visible={showProfileModal}\n            closable={true}\n            setClosable={() => null}\n            view\n        />\n      }\n\n      <div className=\"home-container\">\n\n        <div className=\"side close\" id=\"sideBar\">\n\n          <div className=\"flex align-center justify-between top\">\n            <UserAvatar\n              noStatus\n              isV2\n              name={`${userdetail.first_name || \"\"} ${\n                userdetail.last_name || \"\"\n              }`}\n              profilePicture={userdetail.profile_picture ? userdetail.profile_picture.file_upload : \"\"}\n            />\n            <div>\n              <img src={settings} onClick={() => {\n                setShowProfile(true);\n                closeSideBar();\n              }} /><div className=\"mobile\">\n              &nbsp;&nbsp;&nbsp;&nbsp;\n              <img src={close} alt=\"\" onClick={toggleSideBar} style={{width:15}}/>\n            </div>\n            </div>\n          </div>\n\n          <UsersList />\n          <div className=\"logout\" onClick={() => logout(props)}>\n            <img src={logoutPng} />\n            <div>logout</div>\n          </div>\n        </div>\n        <div className=\"mobile overlay\" onClick={toggleSideBar}/>\n\n        <div className=\"main\">\n\n          {activeUser ? (\n            <ChatInterface activeUser={activeUser} loggedUser={userdetail} toggleSideBar={toggleSideBar}\n                           showProfileModal={showProfileModal} setShowProfileModal={setShowProfileModal} />\n          ) : (\n              <div>\n                <div className=\"heading mobile\">\n                  <div style={{height:\"100%\"}} className=\"flex align-center\">\n                    <img src={menu} alt=\"\" onClick={toggleSideBar}/>&nbsp;&nbsp;</div>\n                </div>\n                <div className=\"noUser\">Click on a user to start chatting</div>\n              </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}