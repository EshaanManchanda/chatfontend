{"ast":null,"code":"var _jsxFileName = \"F:\\\\coding\\\\python\\\\Django_Project\\\\chat_service\\\\chatfrontend\\\\src\\\\Pages\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport eyeopen from \"../assets/eyeopen.png\";\nimport eyeclose from \"../assets/eyeclose.png\";\nimport google from \"../assets/google.png\";\nimport twitter from \"../assets/twitter.png\";\nimport closeWhite from \"../assets/close-white.png\";\nimport { Link } from \"react-router-dom\";\nimport { axiosHandler, errorHandler } from \"../helper\";\nimport { LOGIN_URL } from \"../urls\";\nimport Loader from \"../components/loader\";\nimport { checkAuthState, tokenName } from \"./authController\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const loginRequest = async (data, setError, props) => {\n  const result = await axiosHandler({\n    method: \"post\",\n    url: LOGIN_URL,\n    data: data\n  }).catch(e => setError(errorHandler(e)));\n\n  if (result) {\n    localStorage.setItem(tokenName, JSON.stringify(result.data));\n    props.history.push(\"/\");\n  }\n};\n\nconst Login = props => {\n  _s();\n\n  const [loginData, setLoginData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState();\n  const [checking, setChecking] = useState(localStorage.getItem(tokenName));\n  useEffect(() => {\n    if (checking) {\n      checkAuthState(() => null, () => props.history.push(\"/\"), props);\n    }\n  }, []);\n\n  const submit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    await loginRequest(loginData, setError, props);\n    setLoading(false);\n  };\n\n  const onChange = e => {\n    setLoginData({ ...loginData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loginContainer\",\n    children: checking ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"centerAll\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\",\n        children: \"DEVTOT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(AuthForm, {\n        login: true,\n        data: loginData,\n        onSubmit: submit,\n        onChange: onChange,\n        showPassword: showPassword,\n        error: error,\n        loading: loading,\n        setError: setError,\n        setShowPassword: setShowPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"switchOption\",\n        children: [\"Don\\u2019t have an accout yet? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Sign up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"RQpEp6IjuKo/aYwdqkYabC6tid4=\");\n\n_c = Login;\nexport const AuthForm = props => {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [props.error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"errorHolder\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: props.error\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: closeWhite,\n        onClick: () => props.setError(null)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: props.onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: props.data.username,\n        name: \"username\",\n        onChange: props.onChange,\n        className: \"input-field\",\n        placeholder: \"Username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), !props.login && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-field\",\n          placeholder: \"Email Address\",\n          value: props.data.email,\n          name: \"email\",\n          onChange: props.onChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-field\",\n          placeholder: \"Password\",\n          value: props.data.password,\n          name: \"password\",\n          onChange: props.onChange,\n          type: !props.showPassword ? \"password\" : \"text\",\n          autoComplete: \"new-password\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: !props.showPassword ? eyeopen : eyeclose,\n          onClick: () => props.setShowPassword(!props.showPassword)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: props.loading,\n        children: props.loading ? /*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this) : props.login ? \"Login\" : \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_c2 = AuthForm;\nexport default Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"AuthForm\");","map":{"version":3,"names":["React","useState","useEffect","eyeopen","eyeclose","google","twitter","closeWhite","Link","axiosHandler","errorHandler","LOGIN_URL","Loader","checkAuthState","tokenName","loginRequest","data","setError","props","result","method","url","catch","e","localStorage","setItem","JSON","stringify","history","push","Login","loginData","setLoginData","loading","setLoading","showPassword","setShowPassword","error","checking","setChecking","getItem","submit","preventDefault","onChange","target","name","value","AuthForm","__html","onSubmit","username","login","email","password"],"sources":["F:/coding/python/Django_Project/chat_service/chatfrontend/src/Pages/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport eyeopen from \"../assets/eyeopen.png\";\nimport eyeclose from \"../assets/eyeclose.png\";\nimport google from \"../assets/google.png\";\nimport twitter from \"../assets/twitter.png\";\nimport closeWhite from \"../assets/close-white.png\";\nimport { Link } from \"react-router-dom\";\nimport { axiosHandler, errorHandler } from \"../helper\";\nimport { LOGIN_URL } from \"../urls\";\nimport Loader from \"../components/loader\";\nimport { checkAuthState, tokenName } from \"./authController\";\n\nexport const loginRequest = async (data, setError, props) => {\n  const result = await axiosHandler({\n    method: \"post\",\n    url: LOGIN_URL,\n    data: data,\n  }).catch((e) => setError(errorHandler(e)));\n  if (result) {\n    localStorage.setItem(tokenName, JSON.stringify(result.data));\n    props.history.push(\"/\");\n  }\n};\n\nconst Login = (props) => {\n  const [loginData, setLoginData] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState();\n  const [checking, setChecking] = useState(localStorage.getItem(tokenName));\n\n  useEffect(() => {\n    if (checking) {\n      checkAuthState(\n        () => null,\n        () => props.history.push(\"/\"),\n        props\n      );\n    }\n  }, []);\n\n  const submit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n    await loginRequest(loginData, setError, props);\n    setLoading(false);\n  };\n\n  const onChange = (e) => {\n    setLoginData({\n      ...loginData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  return (\n    <div className=\"loginContainer\">\n      {checking ? (\n        <div className=\"centerAll\">\n          <Loader />\n        </div>\n      ) : (\n        <div className=\"inner\">\n          <div className=\"logo\">DEVTOT</div>\n          <div className=\"title\">Sign in</div>\n          <AuthForm\n            login\n            data={loginData}\n            onSubmit={submit}\n            onChange={onChange}\n            showPassword={showPassword}\n            error={error}\n            loading={loading}\n            setError={setError}\n            setShowPassword={setShowPassword}\n          />\n          {/*<div className=\"grid grid-2 grid-gap-2\">*/}\n          {/*  <div className=\"socialButton\">*/}\n          {/*    <img src={twitter} /> <span>Twitter</span>*/}\n          {/*  </div>*/}\n          {/*  <div className=\"socialButton\">*/}\n          {/*    <img src={google} /> <span>Google</span>*/}\n          {/*  </div>*/}\n          {/*</div>*/}\n          <div className=\"switchOption\">\n            Donâ€™t have an accout yet? <Link to=\"/register\">Sign up</Link>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const AuthForm = (props) => {\n  return (\n    <>\n      {props.error && (\n        <div className=\"errorHolder\">\n          <div dangerouslySetInnerHTML={{ __html: props.error }} />\n          <img src={closeWhite} onClick={() => props.setError(null)} />\n        </div>\n      )}\n      <form onSubmit={props.onSubmit}>\n        <input\n          value={props.data.username}\n          name=\"username\"\n          onChange={props.onChange}\n          className=\"input-field\"\n          placeholder=\"Username\"\n          required\n        />\n        {!props.login && (\n          <div className=\"input-container\">\n            <input\n              className=\"input-field\"\n              placeholder=\"Email Address\"\n              value={props.data.email}\n              name=\"email\"\n              onChange={props.onChange}\n              required\n            />\n          </div>\n        )}\n        <div className=\"input-container\">\n          <input\n            className=\"input-field\"\n            placeholder=\"Password\"\n            value={props.data.password}\n            name=\"password\"\n            onChange={props.onChange}\n            type={!props.showPassword ? \"password\" : \"text\"}\n            autoComplete=\"new-password\"\n            required\n          />\n          <img\n            src={!props.showPassword ? eyeopen : eyeclose}\n            onClick={() => props.setShowPassword(!props.showPassword)}\n          />\n        </div>\n        {/*{props.login && (*/}\n        {/*  <div className=\"flex justify-end\">*/}\n        {/*    <Link to=\"/\">Forgot Password</Link>*/}\n        {/*  </div>*/}\n        {/*)}*/}\n        <button type=\"submit\" disabled={props.loading}>\n          {props.loading ? (\n            <center>\n              <Loader />\n            </center>\n          ) : props.login ? (\n            \"Login\"\n          ) : (\n            \"Register\"\n          )}\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}